# Latest Commit on Main Branch

## Commit Information

- **Commit Hash**: c01e75e3ddeaf5f91c1f89bb5028002deb8ff227
- **Author**: Boris Bergsma <boris.bergsma@openbraininstitute.org>
- **Date**: Thu Jan 8 10:31:44 2026 +0100
- **Title**: Context7 mcp name fix (#658)
- **Tag**: v0.14.2

## Overview

This commit addresses a naming change in the Context7 MCP (Model Context Protocol) integration, updating the tool name from `get-library-docs` to `query-docs` to maintain compatibility with the latest version of the Context7 MCP server.

## Changes Summary

### Modified Files

1. **CHANGELOG.md**
   - Added release notes for version 0.14.2
   - Documented the Context7 name change fix

2. **backend/src/neuroagent/__init__.py**
   - Updated version number from `0.14.1` to `0.14.2`

3. **backend/src/neuroagent/mcp.json**
   - Changed MCP tool name from `get-library-docs` to `query-docs`
   - Updated to reflect the new naming convention in the Context7 MCP server

4. **backend/src/neuroagent/mcp.py**
   - Enhanced error handling for missing tools
   - Changed from raising a `ValueError` when a tool is not found to logging a warning and continuing
   - Added informative logging that displays available tools when a requested tool is not found

5. **backend/src/neuroagent/tools/autogenerated_types/entitycore.py**
   - Updated autogenerated type definitions (minor formatting changes)

6. **backend/src/neuroagent/tools/autogenerated_types/obione.py**
   - Updated autogenerated type definitions (minor formatting changes)

7. **backend/src/neuroagent/tools/autogenerated_types/thumbnail_generation.py**
   - Updated autogenerated type definitions
   - Added `model_config = ConfigDict(extra='allow')` to several parameter query classes
   - Improved type definitions for better configuration handling

8. **frontend/package-lock.json**
   - Updated frontend dependencies (automated lock file update)

## Key Technical Changes

### MCP Tool Name Update

The primary change updates the Context7 MCP tool reference from `get-library-docs` to `query-docs`. This change affects:

- Tool metadata configuration in `mcp.json`
- Internal tool name mapping

### Improved Error Handling

The MCP client now handles missing tools more gracefully:

**Before**:
```python
except StopIteration:
    raise ValueError(f"Tool {tool_name} not found")
```

**After**:
```python
except StopIteration:
    logger.warning(
        f"Tool {tool_name} not found in server. "
        f"Skipping override. Available tools: "
        f"{[t.name for t in self.group_session._tools.values()]}"
    )
    continue
```

This change allows the application to continue running even when a tool is not found, while providing useful debugging information about available tools.

## Impact

- **Version**: Incremented to v0.14.2
- **Breaking Changes**: None
- **Bug Fixes**: Resolves compatibility issues with the updated Context7 MCP server
- **Backward Compatibility**: Maintained through graceful error handling

## Related

- Pull Request: #658
- Issue Type: Bug fix / Maintenance
- Release: v0.14.2
